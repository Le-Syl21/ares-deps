moltenvk_name='MoltenVK'
moltenvk_version='1.4.1'
moltenvk_url='https://github.com/KhronosGroup/MoltenVK.git'

moltenvk_setup() {
  echo "[MoltenVK] downloading pre-built package"
  curl -sL -o MoltenVK-macos.tar "${moltenvk_url%.git}/releases/download/v${moltenvk_version}/MoltenVK-macos.tar"
  tar xf MoltenVK-macos.tar
  rm MoltenVK-macos.tar
  echo "[MoltenVK] downloading -- success"
}

moltenvk_package_source() {
  echo "[MoltenVK] packaging source -- skipped (pre-built)"
}

moltenvk_patch() {
  echo "[MoltenVK] patching -- skipped"
}

moltenvk_build() {
  echo "[MoltenVK] building -- skipped (pre-built)"
}

moltenvk_install() {
  echo "[MoltenVK] installing"
  mkdir -p ares-deps/lib
  mkdir -p ares-deps/licenses/MoltenVK
  ditto build_temp/MoltenVK/MoltenVK/dynamic/dylib/macOS/libMoltenVK.dylib ares-deps/lib/libMoltenVK.dylib
  ditto build_temp/MoltenVK/LICENSE ares-deps/licenses/MoltenVK/LICENSE
  echo "[MoltenVK] installing -- success"
}
